// ============ BLACK PEPPER KEYWORDS (ENGLISH) ============
const BLACK_PEPPER_KEYWORDS_EN = [
  "black pepper", "pepper", "piper nigrum", "pipersmart", "bunga",
  "disease", "diseased", "infection", "infected", "fungal", "bacterial", "viral",
  "leaf spot", "leaf spots", "root rot", "foot rot", "stem blight", "leaf blight",
  "pollu", "anthracnose", "canker", "phyllachora", "healthy", "unhealthy", "sick", "sickness",
  "cultivation", "cultivated", "cultivating", "farming", "farm", "farmer", "farmland",
  "planting", "planted", "plant", "plants", "crop", "crops", "agriculture", "agricultural",
  "growing", "growth", "propagation", "propagate", "vine", "vines", "trellising",
  "ripeness", "ripe", "unripe", "maturity", "mature", "grade", "grading", "quality",
  "color", "size", "flavor", "aroma", "potency",
  "pest", "pests", "insect", "insects", "bug", "bugs", "mite", "mites", "scale",
  "spider mite", "mealy bug", "pest management", "integrated pest", "ipm",
  "pesticide", "fungicide", "bactericide", "insecticide", "treatment", "treating",
  "prevention", "prevent", "preventing", "control", "controlling",
  "soil", "soils", "fertility", "fertile", "nutrient", "nutrients", "macronutrient",
  "micronutrient", "nitrogen", "phosphorus", "potassium", "calcium", "magnesium",
  "fertilizer", "fertilize", "fertilizing", "fertilization", "manure", "compost",
  "organic", "mulch", "mulching", "pH", "acidic", "alkaline", "drainage", "drain",
  "humus", "organic matter",
  "irrigation", "irrigate", "irrigating", "water", "watering", "rainfall", "rainfall patterns",
  "monsoon", "dry season", "wet season", "moisture", "humid", "humidity", "drought",
  "waterlogging", "flooded", "flood", "rain", "dry",
  "harvest", "harvesting", "harvested", "yield", "yields", "production", "productive",
  "productivity", "output", "return", "returns", "profit", "income", "revenue",
  "economic", "market", "marketing", "selling", "buyer", "export", "trading",
  "pruning", "prune", "pruned", "trimming", "trim", "trimmed", "maintenance",
  "care", "caring", "management", "managing", "upkeep", "training", "train",
  "variety", "cultivar", "varieties", "cultivars", "hybrid", "hybrid variety",
  "selection", "breeding", "genetics", "genetic", "traits", "resistance", "resistant",
  "disease resistant", "high yielding", "elite", "improved variety",
  "climate", "weather", "temperature", "humidity", "rainfall", "wind", "sunlight",
  "shade", "shaded", "sun exposure", "tropical", "subtropical", "season", "seasons",
  "monsoon", "rainfall pattern", "weather condition", "climate condition", "atmospheric",
  "farm", "farming", "plantation", "field", "garden", "region", "area", "location",
  "tropical region", "highlands", "lowlands", "slope", "terrain",
  "tool", "tools", "equipment", "machinery", "machine", "implement", "implements",
  "harvester", "grinder", "processor", "dryer", "shade", "trellis", "stake", "pole",
  "study", "research", "trial", "experiment", "testing", "test", "practice",
  "technique", "method", "approach", "tip", "tips", "advice", "recommendation",
  "guide", "tutorial", "training", "education", "learn", "learning",
  "success", "successful", "best practice", "best practices", "effective", "efficient",
  "improvement", "improved", "innovation", "solution", "problem solving",
  "achievement", "accomplishment", "yield increase", "increase production",
  "health benefit", "nutritional", "nutrition", "antioxidant", "anti-inflammatory",
  "medicinal", "culinary", "spice", "seasoning", "condiment",
  "farming business", "pepper farming", "agribusiness", "cooperate", "cooperative",
  "farmer group", "farming community", "sustainable", "sustainability",
  "investment", "cost", "expense", "savings", "profit margin",
  "morphology", "phenotype", "genotype", "photosynthesis", "transpiration",
  "root system", "stem", "leaf", "flowering", "fruiting", "berry", "berries",
  "piperine", "volatile oil", "oleoresin"
];

// ============ BLACK PEPPER KEYWORDS (TAGALOG) ============
const BLACK_PEPPER_KEYWORDS_TL = [
  "pamimili", "pimiento", "pilipili", "hapon", "bunga ng pamimili",
  "sakit", "sakit na halaman", "may sakit", "infeksyon", "fungi",
  "pagtanim", "pagtatanim", "pagtanim ng pamimili", "magsanim",
  "ani", "magsani", "anihin", "pagsasaad", "halaman",
  "puno", "halaman ng puno", "hinihinog", "hininog", "kalidad",
  "insektor", "peste", "pagprotekta", "pestisida", "gamot",
  "lupa", "lupang mabunga", "pataba", "magpataba", "organiko",
  "tubig", "pagtubig", "irigasyon", "pag-irigasyon", "ulan",
  "ani ng buwakas", "produkto", "produktibong", "negosyo", "kita",
  "gupit", "gupitin", "pag-aalaga", "alagaan", "pag-iingat",
  "uri", "klase", "iba't ibang uri", "pamimili na mataas ang ani",
  "panahon", "klima", "mainit", "lamig", "tag-ulan", "monsoon",
  "lugar", "probinsya", "rehiyon", "sakahan", "lupain",
  "kasangkapan", "kagamitan", "tool", "makina", "tractori",
  "pag-aaral", "pag-aralan", "eksperimento", "pagsasanay", "edukasyon",
  "tagumpay", "matagumpay", "magaling", "mahusay", "napakaganda",
  "kooperatiba", "samahan", "grupo ng magsasaka", "mapanatili",
  "kalusugan", "kamalayang pangkalusugan", "pampalakas", "lasa"
];

// ============ BAD WORDS (ENGLISH) ============
const BAD_WORDS_EN = [
  "damn", "hell", "shit", "fuck", "fucking", "crap", "piss", "cock",
  "asshole", "bastard", "bitch", "motherfucker", "pussy", "dick", "tits",
  "boobs", "ass", "slut", "whore", "cum", "jizz", "horny", "rape", "molest",
  "assault", "harassment", "kill", "murder", "stupid", "idiot", "moron",
  "imbecile", "retard", "dumb", "loser", "worthless", "useless", "trash",
  "nigger", "chink", "spic", "faggot", "kike", "terrorist", "pedophile",
  "cripple", "crazy", "psycho", "insane", "fat", "fatty", "skinny",
  "kys", "kill yourself", "suicide", "bomb", "violence", "violent",
  "bully", "cyberbully", "harassment", "abuse", "abusive", "pervert"
];

// ============ BAD WORDS (TAGALOG) ============
const BAD_WORDS_TL = [
  "putangina", "putanginamo", "tanginamo","puta", "gago", "kupal", "tae", "yawa", "baduy", "bastos",
  "umay", "buwisit", "ina mo", "tatay mo", "nanay mo", "suso", "landi",
  "kantot", "puke", "bayag", "butas", "silong", "abuso", "saktan",
  "sampal", "suntok", "pagdiskarte", "harass", "bully", "tanga", "bobo",
  "mangmang", "walang alam", "basura", "hayop", "babae", "lalaki",
  "walang kwenta", "tsismis", "sirira", "bulag", "pipi", "loko", "baliw",
  "mataba", "payat", "panget", "itim", "alibugha", "hadlang", "pag-atake"
];

// ============ VALIDATION FUNCTIONS ============

export const isRelatedToBlackPepper = (content) => {
  const lowerContent = content.toLowerCase();
  
  const hasEnglishKeyword = BLACK_PEPPER_KEYWORDS_EN.some(keyword =>
    lowerContent.includes(keyword.toLowerCase())
  );
  
  const hasTagalogenKeyword = BLACK_PEPPER_KEYWORDS_TL.some(keyword =>
    lowerContent.includes(keyword.toLowerCase())
  );
  
  return hasEnglishKeyword || hasTagalogenKeyword;
};

export const containsBadWords = (content) => {
  const lowerContent = content.toLowerCase();
  const detectedBadWords = [];
  
  BAD_WORDS_EN.forEach(word => {
    if (lowerContent.includes(word.toLowerCase())) {
      detectedBadWords.push(word);
    }
  });
  
  BAD_WORDS_TL.forEach(word => {
    if (lowerContent.includes(word.toLowerCase())) {
      detectedBadWords.push(word);
    }
  });
  
  return [...new Set(detectedBadWords)];
};

export const validateContent = (content) => {
  const badWords = containsBadWords(content);
  const hasKeywords = isRelatedToBlackPepper(content);
  
  if (badWords.length > 0) {
    return {
      isValid: false,
      hasBadWords: true,
      hasBlackPepperKeywords: hasKeywords,
      badWordsFound: badWords,
      message: "⚠️ Your post contains inappropriate language. This is a safe community - please keep discussions respectful.",
      severity: "BLOCK",
      detectedWords: badWords.join(", ")
    };
  }
  
  if (!hasKeywords) {
    return {
      isValid: false,
      hasBadWords: false,
      hasBlackPepperKeywords: false,
      message: "⚠️ Your post does not seem related to black pepper farming. Include topics like: diseases, farming practices, pests, soil, water, harvesting, or regional tips.",
      severity: "WARNING"
    };
  }
  
  return {
    isValid: true,
    hasBadWords: false,
    hasBlackPepperKeywords: true,
    message: "✅ Content looks good!",
    severity: "OK"
  };
};

export default {
  BLACK_PEPPER_KEYWORDS_EN,
  BLACK_PEPPER_KEYWORDS_TL,
  BAD_WORDS_EN,
  BAD_WORDS_TL,
  isRelatedToBlackPepper,
  containsBadWords,
  validateContent
};
